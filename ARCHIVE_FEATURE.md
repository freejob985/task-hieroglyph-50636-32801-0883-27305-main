# ميزة أرشفة المهام

## نظرة عامة
تم إضافة ميزة أرشفة المهام الرئيسية مع المهام الفرعية الخاصة بها، مما يتيح للمستخدمين حفظ المهام المكتملة أو المؤجلة لاستعادتها لاحقاً.

## المميزات الرئيسية

### 1. أرشفة المهام
- أرشفة المهام الرئيسية مع جميع المهام الفرعية المرتبطة بها
- إمكانية إضافة سبب للأرشفة (اختياري)
- حفظ تاريخ الأرشفة ومعلومات المستخدم

### 2. إدارة الأرشيف
- عرض المهام المؤرشفة في واجهة منظمة
- بحث في المهام المؤرشفة
- تصفح المهام بصفحات (5 مهام في كل صفحة)
- عرض تفاصيل المهام الفرعية

### 3. استعادة المهام
- استعادة المهام المؤرشفة إلى القائمة الرئيسية
- الحفاظ على هيكل المهام الرئيسية والفرعية
- إنشاء معرفات جديدة للمهام المستعادة

### 4. حذف نهائي
- حذف المهام نهائياً من الأرشيف
- تأكيد قبل الحذف النهائي

## كيفية الاستخدام

### أرشفة مهمة
1. **من شريط الأدوات**: اضغط على زر "الأرشيف" ثم "أرشفة مهمة"
2. **من القائمة السياقية**: اضغط بزر الماوس الأيمن على المهمة الرئيسية واختر "أرشفة"
3. اختر المهمة المراد أرشفتها
4. أدخل سبب الأرشفة (اختياري)
5. اضغط "أرشفة المهمة"

### إدارة الأرشيف
1. اضغط على زر "الأرشيف" في شريط الأدوات
2. استخدم شريط البحث للعثور على مهام محددة
3. اضغط "تفاصيل" لعرض المهام الفرعية
4. استخدم أزرار "استعادة" أو "حذف" حسب الحاجة

### استعادة مهمة
1. افتح الأرشيف
2. ابحث عن المهمة المراد استعادتها
3. اضغط "استعادة" - سيتم الاستعادة مباشرة

## المكونات المضافة

### 1. أنواع البيانات الجديدة
```typescript
interface ArchivedTask {
  id: string;
  mainTask: Todo;
  subTasks: Todo[];
  archivedAt: number;
  archivedBy: string;
  reason?: string;
}

interface ArchivePage {
  tasks: ArchivedTask[];
  currentPage: number;
  totalPages: number;
  totalTasks: number;
}
```

### 2. مكون ArchiveManager
- واجهة إدارة الأرشيف الكاملة
- البحث والتصفح
- أزرار الأرشفة والاستعادة والحذف

### 3. وظائف الأرشفة
- `archiveTask()`: أرشفة مهمة رئيسية
- `restoreTask()`: استعادة مهمة من الأرشيف
- `deleteArchivedTask()`: حذف مهمة نهائياً

## التخزين
- يتم حفظ الأرشيف في `localStorage` تحت مفتاح `archivedTasks`
- يتم تحديث البيانات تلقائياً عند إجراء تغييرات

## الإحصائيات
- تم إضافة إحصائيات الأرشيف في صفحة الإحصائيات
- عرض عدد المهام المؤرشفة والمهام الفرعية المؤرشفة

## الأمان
- استعادة وحذف مباشر بدون تأكيد
- رسائل تنبيه واضحة

## التوافق
- متوافق مع جميع الميزات الموجودة
- لا يؤثر على المهام الحالية
- يعمل مع جميع أنواع المهام (رئيسية وفرعية)

## التطوير المستقبلي
- إمكانية تصدير/استيراد الأرشيف
- تصنيف المهام المؤرشفة
- إحصائيات متقدمة للأرشيف
- إشعارات للمهام المؤرشفة لفترة طويلة
